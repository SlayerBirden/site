# This is a part of Maketok site package.
# @author Oleg Kulik <slayer.birden@gmail.com>
# For the full copyright and license information, please view the LICENSE
# file that was distributed with this source code.

services:

  data_client_model:
    class: Maketok\Installer\Data\Resource\Model\DataClient

  data_client_result_set:
    class: Zend\Db\ResultSet\HydratingResultSet
    arguments: ["@object_prop_hydrator", "@data_client_model"]

  data_client_table_gateway:
    class: Zend\Db\TableGateway\TableGateway
    arguments:
      - installer_data_client
      - "@adapter"
      - []
      - "@data_client_result_set"

  data_client_table:
    class: Maketok\Installer\Data\Resource\Model\DataClientType
    arguments: ["@data_client_table_gateway", id]

  data_client_history_model:
    class: Maketok\Installer\Data\Resource\Model\DataClientHistory

  data_client_history_result_set:
    class: Zend\Db\ResultSet\HydratingResultSet
    arguments: ["@object_prop_hydrator", "@data_client_history_model"]

  data_client_history_table_gateway:
    class: Zend\Db\TableGateway\TableGateway
    arguments:
      - installer_data_client_history
      - "@adapter"
      - []
      - "@data_client_history_result_set"

  data_client_history_table:
    class: Maketok\Model\TableMapper
    arguments: ["@data_client_history_table_gateway", id]
